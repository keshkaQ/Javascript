<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homework 5 - –ú–∞–≥–∞–∑–∏–Ω—ã</title>
    <style>
      body {
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }
      h1 {
        color: #2c3e50;
        text-align: center;
        margin-bottom: 30px;
      }
      .output {
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        font-size: 20px;
        border-left: 5px solid #4caf50;
      }
      button {
        margin: 10px 10px;
        padding: 15px;
        background-color: #4caf50;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
      }
      .store-info strong {
        color: #2c3e50;
      }
      .controls {
        text-align: center;
        margin-bottom: 20px;
      }
      .counter {
        text-align: center;
        color: #666;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <h1>–ö–∞—Ç–∞–ª–æ–≥ –º–∞–≥–∞–∑–∏–Ω–æ–≤</h1>

    <div class="controls">
      <button onclick="showStoreInfo()">üé≤ –ü–æ–∫–∞–∑–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω</button>
      <button onclick="showNextStore()">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π –º–∞–≥–∞–∑–∏–Ω</button>
      <button onclick="showPreviousStore()">‚¨ÖÔ∏è –ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–∞–≥–∞–∑–∏–Ω</button>
      <button onclick="showAllStores()">üìã –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã</button>
    </div>

    <div id="output"></div>

    <div class="counter" id="counter"></div>

    <script>
      class Magazin {
        #name;
        #address;
        #profile;
        #phone;
        #email;

        constructor(name, address, profile, phone, email) {
          this.#name = name;
          this.#address = address;
          this.#profile = profile;
          this.#phone = phone;
          this.#email = email;
        }

        input(name, address, profile, phone, email) {
          this.#name = name;
          this.#address = address;
          this.#profile = profile;
          this.#phone = phone;
          this.#email = email;
          return this;
        }

        print() {
          return `
                    <div class="store-info">
                        <strong>üè¨ –ù–∞–∑–≤–∞–Ω–∏–µ:</strong> ${this.#name}<br>
                        <strong>üìç –ê–¥—Ä–µ—Å:</strong> ${this.#address}<br>
                        <strong>üìù –ü—Ä–æ—Ñ–∏–ª—å:</strong> ${this.#profile}<br>
                        <strong>üìû –¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${this.#phone}<br>
                        <strong>üìß Email:</strong> ${this.#email}<br>
                    </div>
                `;
        }

        printDetailed() {
          return `
                    <div class="output">
                        <h3>${this.#name}</h3>
                        ${this.print()}
                    </div>
                `;
        }

        getName() {
          return this.#name;
        }
        getAddress() {
          return this.#address;
        }
        getProfile() {
          return this.#profile;
        }
        getPhone() {
          return this.#phone;
        }
        getEmail() {
          return this.#email;
        }

        setName(name) {
          this.#name = name;
          return this;
        }
        setAddress(address) {
          this.#address = address;
          return this;
        }
        setProfile(profile) {
          this.#profile = profile;
          return this;
        }
        setPhone(phone) {
          this.#phone = phone;
          return this;
        }
        setEmail(email) {
          this.#email = email;
          return this;
        }
      }

      const stores = [
        new Magazin(
          "–ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫",
          "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 45, –¢–¶ '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π'",
          "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
          "+7 (495) 123-45-67",
          "info@perekrestok.ru"
        ),
        new Magazin(
          "–ê—à–∞–Ω",
          "–ú–æ—Å–∫–æ–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, 24-–π –∫–º, –¢–¶ '–ú–µ–≥–∞'",
          "–ì–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç",
          "8-800-700-5-700",
          "client@auchan.ru"
        ),
        new Magazin(
          "–ú–∞–≥–Ω–∏—Ç",
          "–ø—Ä. –ú–∏—Ä–∞, –¥. 89",
          "–°–µ—Ç—å –º–∞–≥–∞–∑–∏–Ω–æ–≤ —É –¥–æ–º–∞",
          "+7 (812) 456-78-90",
          "magnit@magnit.ru"
        ),
        new Magazin(
          "–ü—è—Ç–µ—Ä–æ—á–∫–∞",
          "—É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, –¥. 12",
          "–î–∏—Å–∫–∞—É–Ω—Ç–µ—Ä",
          "8-800-555-55-05",
          "support@5ka.ru"
        ),
        new Magazin(
          "–õ–µ–Ω—Ç–∞",
          "—à. –≠–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤, –¥. 33",
          "–ì–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç",
          "+7 (495) 987-65-43",
          "lenta@lenta.com"
        ),
        new Magazin(
          "–ú.–í–∏–¥–µ–æ",
          "—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 15, –¢–¶ '–û—Ö–æ—Ç–Ω—ã–π –†—è–¥'",
          "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ –±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
          "8-800-600-77-75",
          "shop@mvideo.ru"
        ),
        new Magazin(
          "–°–ø–æ—Ä—Ç–º–∞—Å—Ç–µ—Ä",
          "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä-—Ç, –¥. 78–ê",
          "–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã",
          "+7 (495) 234-56-78",
          "sportmaster@sportmaster.ru"
        ),
        new Magazin(
          "–Ø–Ω–¥–µ–∫—Å –ú–∞—Ä–∫–µ—Ç",
          "—É–ª. –õ—å–≤–∞ –¢–æ–ª—Å—Ç–æ–≥–æ, –¥. 16 (—Å–∫–ª–∞–¥)",
          "–û–Ω–ª–∞–π–Ω-–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å",
          "8-800-250-25-25",
          "market@yandex.ru"
        ),
        new Magazin(
          "DNS",
          "–ø—Ä. –ö–æ—Å–º–æ–Ω–∞–≤—Ç–æ–≤, –¥. 101",
          "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
          "8-800-770-79-99",
          "dns@dns-shop.ru"
        ),
        new Magazin(
          "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ",
          "—É–ª. –ê—Ä–±–∞—Ç, –¥. 25",
          "–ö–æ—Å–º–µ—Ç–∏–∫–∞ –∏ –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—è",
          "+7 (495) 777-88-99",
          "goldapple@goldapple.ru"
        ),
        new Magazin(
          "–ú–∏—Ä –ö–Ω–∏–≥–∏",
          "—É–ª. –ö–∏—Ä–æ–≤–∞, –¥. 8",
          "–ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω",
          "+7 (495) 111-22-33",
          "books@mirknigi.ru"
        ),
        new Magazin(
          "–ï–≤—Ä–æ—Å–µ—Ç—å",
          "–ø–ª. –†–µ–≤–æ–ª—é—Ü–∏–∏, –¥. 2",
          "–°–≤—è–∑—å –∏ –≥–∞–¥–∂–µ—Ç—ã",
          "8-800-700-10-10",
          "euroset@euroset.ru"
        ),
        new Magazin(
          "–°–±–µ—Ä–ú–µ–≥–∞–ú–∞—Ä–∫–µ—Ç",
          "—É–ª. –í–∞–≤–∏–ª–æ–≤–∞, –¥. 19 (–ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä)",
          "–û–Ω–ª–∞–π–Ω-—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç",
          "8-800-555-00-55",
          "sbermegamarket@sber.ru"
        ),
        new Magazin(
          "–î–µ—Ç—Å–∫–∏–π –º–∏—Ä",
          "—É–ª. –ú–æ–ª–æ–¥–æ–≥–≤–∞—Ä–¥–µ–π—Å–∫–∞—è, –¥. 54",
          "–î–µ—Ç—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã",
          "+7 (495) 666-77-88",
          "detmir@detmir.ru"
        ),
        new Magazin(
          "Fix Price",
          "—É–ª. –†–∞–±–æ—á–∞—è, –¥. 32",
          "–ú–∞–≥–∞–∑–∏–Ω —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ü–µ–Ω",
          "8-800-250-54-55",
          "fixprice@fix-price.ru"
        ),
      ];

      let currentIndex = 0;
      let lastRandomIndex = -1;

      function getRandomStore() {
        let randomIndex;
        do {
          randomIndex = Math.floor(Math.random() * stores.length);
        } while (randomIndex === lastRandomIndex && stores.length > 1);

        lastRandomIndex = randomIndex;
        return randomIndex;
      }

      function showStoreByIndex(index) {
        const outputDiv = document.getElementById("output");
        const counterDiv = document.getElementById("counter");

        currentIndex = index;
        const store = stores[currentIndex];

        outputDiv.innerHTML = store.printDetailed();
        counterDiv.textContent = `–ú–∞–≥–∞–∑–∏–Ω ${currentIndex + 1} –∏–∑ ${
          stores.length
        }`;
      }

      function showStoreInfo() {
        const randomIndex = getRandomStore();
        showStoreByIndex(randomIndex);
      }

      function showNextStore() {
        currentIndex = (currentIndex + 1) % stores.length;
        showStoreByIndex(currentIndex);
      }

      function showPreviousStore() {
        currentIndex = (currentIndex - 1 + stores.length) % stores.length;
        showStoreByIndex(currentIndex);
      }

      function showAllStores() {
        const outputDiv = document.getElementById("output");
        const counterDiv = document.getElementById("counter");

        let allStoresHTML = "<h2> –í—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã:</h2>";

        stores.forEach((store, index) => {
          allStoresHTML += `
                    <div class="output">
                        <h3>${index + 1}. ${store.getName()}</h3>
                        ${store.print()}
                    </div>
                `;
        });

        outputDiv.innerHTML = allStoresHTML;
        counterDiv.textContent = `–í—Å–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–æ–≤: ${stores.length}`;
      }
    </script>
  </body>
</html>
